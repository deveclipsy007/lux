# Evolution API - Configurações de Ambiente
# Copie este arquivo para .env e configure as variáveis
# Autor: AgnoMaster - Evolution API Expert
# Data: 2025-01-24

# =============================================================================
# CONFIGURAÇÕES GERAIS DA APLICAÇÃO
# =============================================================================

# Ambiente de execução (development, staging, production)
ENVIRONMENT=development

# Debug mode (true/false)
DEBUG=true

# Porta da aplicação
PORT=8000

# Número de workers (para produção)
WORKERS=4

# =============================================================================
# BANCO DE DADOS POSTGRESQL
# =============================================================================

# URL completa do banco de dados
DATABASE_URL=postgresql://evolution:evolution123@localhost:5432/evolution_api

# Configurações individuais do PostgreSQL
POSTGRES_USER=evolution
POSTGRES_PASSWORD=evolution123
POSTGRES_DB=evolution_api
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Pool de conexões
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# =============================================================================
# REDIS - CACHE E SESSÕES
# =============================================================================

# URL do Redis
REDIS_URL=redis://localhost:6379/0

# Configurações individuais do Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis123
REDIS_DB=0

# TTL padrão do cache (em segundos)
REDIS_DEFAULT_TTL=3600

# =============================================================================
# JWT E AUTENTICAÇÃO
# =============================================================================

# Chave secreta para JWT (MUDE EM PRODUÇÃO!)
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production-min-32-chars

# Algoritmo de criptografia
JWT_ALGORITHM=HS256

# Tempo de expiração do token de acesso (em minutos)
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# Tempo de expiração do token de refresh (em dias)
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Issuer do token
JWT_ISSUER=evolution-api

# Audience do token
JWT_AUDIENCE=evolution-api-users

# =============================================================================
# EVOLUTION API - INTEGRAÇÃO WHATSAPP
# =============================================================================

# URL da Evolution API
EVOLUTION_API_URL=http://localhost:8080

# Chave de API da Evolution
EVOLUTION_API_KEY=your-evolution-api-key

# URL do webhook para receber eventos
EVOLUTION_WEBHOOK_URL=http://localhost:8000/webhook

# Token de validação do webhook
EVOLUTION_WEBHOOK_TOKEN=your-webhook-validation-token

# Timeout para requisições (em segundos)
EVOLUTION_REQUEST_TIMEOUT=30

# Retry attempts
EVOLUTION_MAX_RETRIES=3

# =============================================================================
# RATE LIMITING
# =============================================================================

# Número máximo de requisições por janela
RATE_LIMIT_REQUESTS=100

# Janela de tempo em segundos
RATE_LIMIT_WINDOW=60

# Rate limit para autenticação
AUTH_RATE_LIMIT_REQUESTS=10
AUTH_RATE_LIMIT_WINDOW=300

# Rate limit para webhooks
WEBHOOK_RATE_LIMIT_REQUESTS=1000
WEBHOOK_RATE_LIMIT_WINDOW=60

# =============================================================================
# CORS - CROSS-ORIGIN RESOURCE SHARING
# =============================================================================

# Origens permitidas (separadas por vírgula)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,https://yourdomain.com

# Métodos permitidos
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH

# Headers permitidos
CORS_HEADERS=*

# Permitir credenciais
CORS_CREDENTIALS=true

# =============================================================================
# WEBSOCKETS
# =============================================================================

# Máximo de conexões WebSocket simultâneas
WS_MAX_CONNECTIONS=1000

# Timeout de conexão (em segundos)
WS_CONNECTION_TIMEOUT=60

# Intervalo de ping (em segundos)
WS_PING_INTERVAL=30

# Timeout de pong (em segundos)
WS_PONG_TIMEOUT=10

# =============================================================================
# LOGS E MONITORAMENTO
# =============================================================================

# Nível de log (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Formato de log (json, text)
LOG_FORMAT=json

# Diretório de logs
LOG_DIR=./logs

# Rotação de logs (em MB)
LOG_MAX_SIZE=100

# Número de arquivos de backup
LOG_BACKUP_COUNT=5

# =============================================================================
# MÉTRICAS E PERFORMANCE
# =============================================================================

# Habilitar coleta de métricas
ENABLE_METRICS=true

# Porta para métricas Prometheus
METRICS_PORT=9090

# Intervalo de coleta (em segundos)
METRICS_INTERVAL=15

# Habilitar tracing
ENABLE_TRACING=true

# URL do Jaeger
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# =============================================================================
# UPLOADS E ARQUIVOS
# =============================================================================

# Diretório para uploads
UPLOAD_DIR=./uploads

# Tamanho máximo de arquivo (em MB)
MAX_FILE_SIZE=50

# Tipos de arquivo permitidos
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain

# =============================================================================
# AGNO FRAMEWORK - AGENTES INTELIGENTES
# =============================================================================

# Modelo padrão para agentes
AGNO_DEFAULT_MODEL=claude-3-5-sonnet-20241022

# Chave da API OpenAI
OPENAI_API_KEY=your-openai-api-key

# Chave da API Anthropic
ANTHROPIC_API_KEY=your-anthropic-api-key

# Chave da API Groq
GROQ_API_KEY=your-groq-api-key

# Timeout para modelos (em segundos)
MODEL_TIMEOUT=120

# Máximo de tokens por resposta
MAX_TOKENS=4000

# Temperatura padrão
DEFAULT_TEMPERATURE=0.7

# =============================================================================
# DOCKER E DEPLOY
# =============================================================================

# Portas para Docker Compose
API_PORT=8000
NGINX_PORT=80
NGINX_SSL_PORT=443
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
JAEGER_UI_PORT=16686
JAEGER_COLLECTOR_PORT=14268

# Credenciais do Grafana
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin123

# =============================================================================
# RAILWAY DEPLOY
# =============================================================================

# URL do Railway (será preenchida automaticamente)
RAILWAY_STATIC_URL=

# Domínio customizado
CUSTOM_DOMAIN=

# =============================================================================
# SEGURANÇA ADICIONAL
# =============================================================================

# Chave para criptografia de dados sensíveis
ENCRYPTION_KEY=your-32-char-encryption-key-here

# Salt para hashing
PASSWORD_SALT=your-password-salt-here

# Habilitar HTTPS redirect
FORCE_HTTPS=false

# Headers de segurança
SECURITY_HEADERS=true

# =============================================================================
# DESENVOLVIMENTO
# =============================================================================

# Recarregamento automático
AUTO_RELOAD=true

# Modo de desenvolvimento
DEV_MODE=true

# Habilitar debug toolbar
DEBUG_TOOLBAR=true

# Seed para dados de teste
TEST_DATA_SEED=12345